Workloads
=========

Chaque WP a sa ligne wl_line
Il faut pouvoir rajouter des lignes sans projet
Chaque ligne est en fait une somme de charge associé à une semaine
il faut sommer les semaines pour avoir la charge totale de la semaine
il faut sommer les wl_line_id pour avoir la somme totale d'une ligne

wl_line
  id
  person_id
  project_id
  name
  type (project or not?)
  color

wl_load
  id
  wl_line_id
  week (year + week number: 201128, 201201)
  load (0.125)

wl_holidays
  week
  nb

l'interface doit avoir au moins autant de colonne que de semaines

Add a line

month Jul                     Aug
week  w27   w28   w29   w30   w31   w32   w33   w34
days  04-08 11-15 18-22 25-29 01-05 08-12 15-19
open  5     4     5     5     5     5     4

Proj1 0.25  2
Congé 2

Somme 2.25  2
%     45%   50%
SC    2.75  2





Chat
====

sessions de travail

MODEL

chat_sessions
  id, created_at, title (optionel)
chat_session_participants
  chat_session_id, person_id
chat_messages
  id, person_id, chat_session_id, created_at
chat_message_reads

récupération d'une session ?
- si une seule personne et date de moins d'un heure
- par une liste de récente sessions

Externaliser dans des helpers pour centraliser les noms des models utilisés ?


Status WP
=========

Organiser sous forme de catégories et notes ?
Ou SWOT uniquement + Stats


<% if project.requests.size > 0 %>
  <% if project.responsibles.exists?(current_user) %>
    <%= link_to_remote('Remove from my projects', {:url=>{:controller=>'projects', :action=>'remove_from_mine', :id=>project.id}, :success=>"$('btnaddtomine_'+project.id.to_s).fade();"}, {:class=>'btnlnk special', :id=>'btnaddtomine_'+project.id.to_s}) %>
  <% else %>
    <%= link_to_remote('Add to my projects', {:url=>{:controller=>'projects', :action=>'add_to_mine', :id=>project.id}, :success=>"$('btnaddtomine_'+project.id.to_s).fade();"}, {:class=>'btnlnk special', :id=>'btnaddtomine_'+project.id.to_s}) %>
  <% end %>
<% end %>

